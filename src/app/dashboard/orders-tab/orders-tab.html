<div class="py-6 min-h-screen flex flex-col items-center gap-6">
    <h1 class="text-[#565656] font-medium text-[24px]">List of Clients</h1>
    <div class="w-full card px-12">
        <p-table [columns]="cols" [value]="carts" [tableStyle]="{ 'min-width': '50rem' }">

            <!-- HEADER -->
            <ng-template pTemplate="header" let-columns>
                <tr>
                    <ng-container *ngFor="let col of columns">
                        <th>{{ col.header }}</th>
                    </ng-container>
                    <th>Action</th>
                </tr>
            </ng-template>

            <!-- BODY -->
            <ng-template pTemplate="body" let-rowData let-columns="columns">
                <tr>
                    <ng-container *ngFor="let col of columns">
                        <td>{{ rowData[col.field] }}</td>
                    </ng-container>

                    <td class="flex flex-row gap-2 items-center">

                        <!-- EDIT -->
                        <div class="p-3 rounded-full transition-colors hover:bg-blue-500/10 cursor-pointer">
                            <i 
                                class="pi pi-user-edit text-blue-500"
                                (click)="openEditDialog(rowData)">
                            </i>
                        </div>

                        <!-- DELETE -->
                        <div class="p-3 rounded-full transition-colors hover:bg-red-500/10 cursor-pointer">
                            <i 
                                class="pi pi-trash text-red-500"
                                (click)="deleteUser(rowData.id)">
                            </i>
                        </div>

                    </td>
                </tr>
            </ng-template>

        </p-table>
    </div>
</div>

<!-- EDIT DIALOG -->
<p-dialog 
    header="Edit Profile"
    [modal]="true"
    [(visible)]="visible"
    [style]="{ width: '25rem' }">

    <span class="p-text-secondary block mb-8">Update the details</span>

    <div class="flex items-center gap-4 mb-4">
        <label class="font-semibold w-24">User ID</label>
        <input pInputText class="flex-auto" [(ngModel)]="editData.userId" />
    </div>

    <div class="flex items-center gap-4 mb-4">
        <label class="font-semibold w-24">Items</label>
        <input pInputText class="flex-auto" [(ngModel)]="editData.items" />
    </div>

    <div class="flex justify-end gap-2">
        <p-button label="Cancel" severity="secondary" (click)="visible = false" />
        
        <p-button 
            label="Save"
            (click)="saveChanges()" 
        />
    </div>
</p-dialog>
